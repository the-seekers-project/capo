const CHORD_DIAGRAMS = {
    // Major Chords
    'C': {
        frets: [0, 1, 0, 2, 3, -1],
        fingers: [0, 1, 0, 2, 3, 0],
        diagram: `
  C Major
e |---0---
B |---1---
G |---0---
D |---2---
A |---3---
E |---X---
    1   2 3`
    },
    'D': {
        frets: [2, 3, 2, 0, -1, -1],
        fingers: [2, 3, 1, 0, 0, 0],
        diagram: `
  D Major
e |---2---
B |---3---
G |---2---
D |---0---
A |---X---
E |---X---
    2 3 1`
    },
    'E': {
        frets: [0, 0, 1, 2, 2, 0],
        fingers: [0, 0, 1, 2, 3, 0],
        diagram: `
  E Major
e |---0---
B |---0---
G |---1---
D |---2---
A |---2---
E |---0---
    1 2 3`
    },
    'F': {
        frets: [1, 1, 2, 3, 3, 1],
        fingers: [1, 1, 2, 3, 4, 1],
        diagram: `
  F Major (Barre)
e |---1---
B |---1---
G |---2---
D |---3---
A |---3---
E |---1---
  1 1 2 3 4 1`
    },
    'G': {
        frets: [3, 0, 0, 0, 2, 3],
        fingers: [3, 0, 0, 0, 2, 4],
        diagram: `
  G Major
e |---3---
B |---0---
G |---0---
D |---0---
A |---2---
E |---3---
    3     2 4`
    },
    'A': {
        frets: [0, 2, 2, 2, 0, -1],
        fingers: [0, 1, 2, 3, 0, 0],
        diagram: `
  A Major
e |---0---
B |---2---
G |---2---
D |---2---
A |---0---
E |---X---
    1 2 3`
    },
    'B': {
        frets: [2, 4, 4, 4, 2, -1],
        fingers: [1, 2, 3, 4, 1, 0],
        diagram: `
  B Major (Barre)
e |---2---
B |---4---
G |---4---
D |---4---
A |---2---
E |---X---
  1 2 3 4 1`
    },
    
    // Minor Chords
    'Am': {
        frets: [0, 1, 2, 2, 0, -1],
        fingers: [0, 1, 2, 3, 0, 0],
        diagram: `
  A minor
e |---0---
B |---1---
G |---2---
D |---2---
A |---0---
E |---X---
    1 2 3`
    },
    'Bm': {
        frets: [2, 3, 4, 4, 2, -1],
        fingers: [1, 2, 3, 4, 1, 0],
        diagram: `
  B minor (Barre)
e |---2---
B |---3---
G |---4---
D |---4---
A |---2---
E |---X---
  1 2 3 4 1`
    },
    'Cm': {
        frets: [3, 4, 5, 5, 3, -1],
        fingers: [1, 2, 3, 4, 1, 0],
        diagram: `
  C minor (Barre)
e |---3---
B |---4---
G |---5---
D |---5---
A |---3---
E |---X---
  1 2 3 4 1`
    },
    'Dm': {
        frets: [1, 3, 2, 0, -1, -1],
        fingers: [1, 3, 2, 0, 0, 0],
        diagram: `
  D minor
e |---1---
B |---3---
G |---2---
D |---0---
A |---X---
E |---X---
    1 3 2`
    },
    'Em': {
        frets: [0, 0, 0, 2, 2, 0],
        fingers: [0, 0, 0, 2, 3, 0],
        diagram: `
  E minor
e |---0---
B |---0---
G |---0---
D |---2---
A |---2---
E |---0---
    2 3`
    },
    'Fm': {
        frets: [1, 1, 1, 3, 4, 1],
        fingers: [1, 1, 1, 3, 4, 1],
        diagram: `
  F minor (Barre)
e |---1---
B |---1---
G |---1---
D |---3---
A |---4---
E |---1---
  1 1 1 3 4 1`
    },
    'Gm': {
        frets: [3, 3, 3, 5, 6, 3],
        fingers: [1, 1, 1, 3, 4, 1],
        diagram: `
  G minor (Barre)
e |---3---
B |---3---
G |---3---
D |---5---
A |---6---
E |---3---
  1 1 1 3 4 1`
    },
    
    // 7th Chords
    'C7': {
        frets: [0, 1, 3, 2, 3, -1],
        fingers: [0, 1, 4, 2, 3, 0],
        diagram: `
  C7
e |---0---
B |---1---
G |---3---
D |---2---
A |---3---
E |---X---
    1 4 2 3`
    },
    'D7': {
        frets: [2, 1, 2, 0, -1, -1],
        fingers: [3, 1, 2, 0, 0, 0],
        diagram: `
  D7
e |---2---
B |---1---
G |---2---
D |---0---
A |---X---
E |---X---
    3 1 2`
    },
    'E7': {
        frets: [0, 0, 1, 0, 2, 0],
        fingers: [0, 0, 1, 0, 2, 0],
        diagram: `
  E7
e |---0---
B |---0---
G |---1---
D |---0---
A |---2---
E |---0---
    1   2`
    },
    'F7': {
        frets: [1, 1, 2, 1, 3, 1],
        fingers: [1, 1, 3, 1, 4, 1],
        diagram: `
  F7 (Barre)
e |---1---
B |---1---
G |---2---
D |---1---
A |---3---
E |---1---
  1 1 3 1 4 1`
    },
    'G7': {
        frets: [1, 0, 0, 0, 2, 3],
        fingers: [1, 0, 0, 0, 2, 3],
        diagram: `
  G7
e |---1---
B |---0---
G |---0---
D |---0---
A |---2---
E |---3---
    1     2 3`
    },
    'A7': {
        frets: [0, 2, 0, 2, 0, -1],
        fingers: [0, 2, 0, 3, 0, 0],
        diagram: `
  A7
e |---0---
B |---2---
G |---0---
D |---2---
A |---0---
E |---X---
    2   3`
    },
    'B7': {
        frets: [2, 0, 2, 1, 2, -1],
        fingers: [3, 0, 4, 1, 2, 0],
        diagram: `
  B7
e |---2---
B |---0---
G |---2---
D |---1---
A |---2---
E |---X---
    3   4 1 2`
    },
    
    // Major 7th Chords
    'Cmaj7': {
        frets: [0, 0, 0, 2, 3, -1],
        fingers: [0, 0, 0, 1, 2, 0],
        diagram: `
  Cmaj7
e |---0---
B |---0---
G |---0---
D |---2---
A |---3---
E |---X---
    1 2`
    },
    'Dmaj7': {
        frets: [2, 2, 2, 0, -1, -1],
        fingers: [1, 1, 1, 0, 0, 0],
        diagram: `
  Dmaj7
e |---2---
B |---2---
G |---2---
D |---0---
A |---X---
E |---X---
    1 1 1`
    },
    'Emaj7': {
        frets: [0, 0, 1, 1, 2, 0],
        fingers: [0, 0, 1, 2, 3, 0],
        diagram: `
  Emaj7
e |---0---
B |---0---
G |---1---
D |---1---
A |---2---
E |---0---
    1 2 3`
    },
    'Fmaj7': {
        frets: [1, 1, 2, 2, 3, 1],
        fingers: [1, 1, 2, 3, 4, 1],
        diagram: `
  Fmaj7 (Barre)
e |---1---
B |---1---
G |---2---
D |---2---
A |---3---
E |---1---
  1 1 2 3 4 1`
    },
    'Gmaj7': {
        frets: [2, 0, 0, 0, 2, 3],
        fingers: [1, 0, 0, 0, 2, 3],
        diagram: `
  Gmaj7
e |---2---
B |---0---
G |---0---
D |---0---
A |---2---
E |---3---
    1     2 3`
    },
    'Amaj7': {
        frets: [0, 2, 1, 2, 0, -1],
        fingers: [0, 3, 1, 2, 0, 0],
        diagram: `
  Amaj7
e |---0---
B |---2---
G |---1---
D |---2---
A |---0---
E |---X---
    3 1 2`
    },
    'Bmaj7': {
        frets: [2, 4, 3, 4, 2, -1],
        fingers: [1, 4, 2, 3, 1, 0],
        diagram: `
  Bmaj7 (Barre)
e |---2---
B |---4---
G |---3---
D |---4---
A |---2---
E |---X---
  1 4 2 3 1`
    },
    
    // Minor 7th Chords
    'Cm7': {
        frets: [3, 1, 3, 1, 3, -1],
        fingers: [4, 1, 3, 1, 2, 0],
        diagram: `
  Cm7 (Barre)
e |---3---
B |---1---
G |---3---
D |---1---
A |---3---
E |---X---
  4 1 3 1 2`
    },
    'Dm7': {
        frets: [1, 1, 2, 0, -1, -1],
        fingers: [1, 2, 3, 0, 0, 0],
        diagram: `
  Dm7
e |---1---
B |---1---
G |---2---
D |---0---
A |---X---
E |---X---
    1 2 3`
    },
    'Em7': {
        frets: [0, 0, 0, 0, 2, 0],
        fingers: [0, 0, 0, 0, 2, 0],
        diagram: `
  Em7
e |---0---
B |---0---
G |---0---
D |---0---
A |---2---
E |---0---
    2`
    },
    'Fm7': {
        frets: [1, 1, 1, 1, 4, 1],
        fingers: [1, 1, 1, 1, 4, 1],
        diagram: `
  Fm7 (Barre)
e |---1---
B |---1---
G |---1---
D |---1---
A |---4---
E |---1---
  1 1 1 1 4 1`
    },
    'Gm7': {
        frets: [3, 3, 3, 3, 6, 3],
        fingers: [1, 1, 1, 1, 4, 1],
        diagram: `
  Gm7 (Barre)
e |---3---
B |---3---
G |---3---
D |---3---
A |---6---
E |---3---
  1 1 1 1 4 1`
    },
    'Am7': {
        frets: [0, 1, 0, 2, 0, -1],
        fingers: [0, 1, 0, 2, 0, 0],
        diagram: `
  Am7
e |---0---
B |---1---
G |---0---
D |---2---
A |---0---
E |---X---
    1   2`
    },
    'Bm7': {
        frets: [2, 3, 2, 4, 2, -1],
        fingers: [1, 2, 1, 4, 1, 0],
        diagram: `
  Bm7 (Barre)
e |---2---
B |---3---
G |---2---
D |---4---
A |---2---
E |---X---
  1 2 1 4 1`
    },
    
    // Suspended Chords
    'Csus2': {
        frets: [3, 3, 0, 0, 3, -1],
        fingers: [1, 2, 0, 0, 3, 0],
        diagram: `
  Csus2
e |---3---
B |---3---
G |---0---
D |---0---
A |---3---
E |---X---
    1 2     3`
    },
    'Dsus2': {
        frets: [0, 3, 2, 0, -1, -1],
        fingers: [0, 2, 1, 0, 0, 0],
        diagram: `
  Dsus2
e |---0---
B |---3---
G |---2---
D |---0---
A |---X---
E |---X---
    2 1`
    },
    'Esus2': {
        frets: [0, 0, 4, 4, 2, 0],
        fingers: [0, 0, 3, 4, 1, 0],
        diagram: `
  Esus2
e |---0---
B |---0---
G |---4---
D |---4---
A |---2---
E |---0---
    3 4 1`
    },
    'Fsus2': {
        frets: [1, 1, 3, 3, 1, 1],
        fingers: [1, 1, 3, 4, 1, 1],
        diagram: `
  Fsus2 (Barre)
e |---1---
B |---1---
G |---3---
D |---3---
A |---1---
E |---1---
  1 1 3 4 1 1`
    },
    'Gsus2': {
        frets: [3, 3, 0, 0, 3, 3],
        fingers: [1, 2, 0, 0, 3, 4],
        diagram: `
  Gsus2
e |---3---
B |---3---
G |---0---
D |---0---
A |---3---
E |---3---
    1 2     3 4`
    },
    'Asus2': {
        frets: [0, 0, 2, 2, 0, -1],
        fingers: [0, 0, 1, 2, 0, 0],
        diagram: `
  Asus2
e |---0---
B |---0---
G |---2---
D |---2---
A |---0---
E |---X---
    1 2`
    },
    'Bsus2': {
        frets: [2, 2, 4, 4, 2, -1],
        fingers: [1, 1, 3, 4, 1, 0],
        diagram: `
  Bsus2 (Barre)
e |---2---
B |---2---
G |---4---
D |---4---
A |---2---
E |---X---
  1 1 3 4 1`
    },
    'Csus4': {
        frets: [1, 1, 0, 3, 3, -1],
        fingers: [1, 2, 0, 3, 4, 0],
        diagram: `
  Csus4
e |---1---
B |---1---
G |---0---
D |---3---
A |---3---
E |---X---
    1 2   3 4`
    },
    'Dsus4': {
        frets: [3, 3, 2, 0, -1, -1],
        fingers: [2, 3, 1, 0, 0, 0],
        diagram: `
  Dsus4
e |---3---
B |---3---
G |---2---
D |---0---
A |---X---
E |---X---
    2 3 1`
    },
    'Esus4': {
        frets: [0, 0, 2, 2, 2, 0],
        fingers: [0, 0, 1, 2, 3, 0],
        diagram: `
  Esus4
e |---0---
B |---0---
G |---2---
D |---2---
A |---2---
E |---0---
    1 2 3`
    },
    'Fsus4': {
        frets: [1, 1, 3, 3, 4, 1],
        fingers: [1, 1, 2, 3, 4, 1],
        diagram: `
  Fsus4 (Barre)
e |---1---
B |---1---
G |---3---
D |---3---
A |---4---
E |---1---
  1 1 2 3 4 1`
    },
    'Gsus4': {
        frets: [3, 1, 0, 0, 3, 3],
        fingers: [3, 1, 0, 0, 4, 2],
        diagram: `
  Gsus4
e |---3---
B |---1---
G |---0---
D |---0---
A |---3---
E |---3---
    3 1     4 2`
    },
    'Asus4': {
        frets: [0, 3, 2, 2, 0, -1],
        fingers: [0, 3, 1, 2, 0, 0],
        diagram: `
  Asus4
e |---0---
B |---3---
G |---2---
D |---2---
A |---0---
E |---X---
    3 1 2`
    },
    'Bsus4': {
        frets: [2, 5, 4, 4, 2, -1],
        fingers: [1, 4, 2, 3, 1, 0],
        diagram: `
  Bsus4 (Barre)
e |---2---
B |---5---
G |---4---
D |---4---
A |---2---
E |---X---
  1 4 2 3 1`
    },
    
    // Add9 Chords
    'Cadd9': {
        frets: [0, 3, 0, 2, 3, -1],
        fingers: [0, 2, 0, 1, 3, 0],
        diagram: `
  Cadd9
e |---0---
B |---3---
G |---0---
D |---2---
A |---3---
E |---X---
    2   1 3`
    },
    'Dadd9': {
        frets: [0, 3, 2, 0, -1, -1],
        fingers: [0, 2, 1, 0, 0, 0],
        diagram: `
  Dadd9
e |---0---
B |---3---
G |---2---
D |---0---
A |---X---
E |---X---
    2 1`
    },
    'Gadd9': {
        frets: [3, 0, 0, 0, 0, 3],
        fingers: [2, 0, 0, 0, 0, 3],
        diagram: `
  Gadd9
e |---3---
B |---0---
G |---0---
D |---0---
A |---0---
E |---3---
    2       3`
    },
    'Eadd9': {
        frets: [2, 0, 1, 2, 2, 0],
        fingers: [2, 0, 1, 3, 4, 0],
        diagram: `
  Eadd9
e |---2---
B |---0---
G |---1---
D |---2---
A |---2---
E |---0---
    2   1 3 4`
    },
    'Fadd9': {
        frets: [1, 1, 2, 0, 3, 1],
        fingers: [1, 1, 3, 0, 4, 1],
        diagram: `
  Fadd9 (Barre)
e |---1---
B |---1---
G |---2---
D |---0---
A |---3---
E |---1---
  1 1 3   4 1`
    },
    'Aadd9': {
        frets: [0, 0, 2, 2, 0, -1],
        fingers: [0, 0, 1, 2, 0, 0],
        diagram: `
  Aadd9
e |---0---
B |---0---
G |---2---
D |---2---
A |---0---
E |---X---
    1 2`
    },
    'Badd9': {
        frets: [2, 2, 4, 4, 2, -1],
        fingers: [1, 1, 3, 4, 1, 0],
        diagram: `
  Badd9 (Barre)
e |---2---
B |---2---
G |---4---
D |---4---
A |---2---
E |---X---
  1 1 3 4 1`
    },
    
    // 7sus4 Chords
    'C7sus4': {
        frets: [1, 1, 3, 3, 3, -1],
        fingers: [1, 1, 2, 3, 4, 0],
        diagram: `
  C7sus4
e |---1---
B |---1---
G |---3---
D |---3---
A |---3---
E |---X---
  1 1 2 3 4`
    },
    'D7sus4': {
        frets: [3, 1, 2, 0, -1, -1],
        fingers: [3, 1, 2, 0, 0, 0],
        diagram: `
  D7sus4
e |---3---
B |---1---
G |---2---
D |---0---
A |---X---
E |---X---
    3 1 2`
    },
    'E7sus4': {
        frets: [0, 0, 2, 2, 2, 0],
        fingers: [0, 0, 1, 2, 3, 0],
        diagram: `
  E7sus4
e |---0---
B |---0---
G |---2---
D |---2---
A |---2---
E |---0---
    1 2 3`
    },
    'F7sus4': {
        frets: [1, 1, 3, 3, 1, 1],
        fingers: [1, 1, 3, 4, 1, 1],
        diagram: `
  F7sus4 (Barre)
e |---1---
B |---1---
G |---3---
D |---3---
A |---1---
E |---1---
  1 1 3 4 1 1`
    },
    'G7sus4': {
        frets: [3, 1, 3, 3, 3, 3],
        fingers: [2, 1, 3, 4, 5, 2],
        diagram: `
  G7sus4
e |---3---
B |---1---
G |---3---
D |---3---
A |---3---
E |---3---
    2 1 3 4 5 2`
    },
    'A7sus4': {
        frets: [0, 3, 2, 2, 0, -1],
        fingers: [0, 3, 1, 2, 0, 0],
        diagram: `
  A7sus4
e |---0---
B |---3---
G |---2---
D |---2---
A |---0---
E |---X---
    3 1 2`
    },
    'B7sus4': {
        frets: [2, 5, 4, 4, 2, -1],
        fingers: [1, 4, 2, 3, 1, 0],
        diagram: `
  B7sus4 (Barre)
e |---2---
B |---5---
G |---4---
D |---4---
A |---2---
E |---X---
  1 4 2 3 1`
    },
    
    // 7sus2 Chords
    'C7sus2': {
        frets: [3, 1, 3, 0, 3, -1],
        fingers: [2, 1, 4, 0, 3, 0],
        diagram: `
  C7sus2
e |---3---
B |---1---
G |---3---
D |---0---
A |---3---
E |---X---
    2 1 4   3`
    },
    'D7sus2': {
        frets: [0, 1, 2, 0, -1, -1],
        fingers: [0, 1, 2, 0, 0, 0],
        diagram: `
  D7sus2
e |---0---
B |---1---
G |---2---
D |---0---
A |---X---
E |---X---
    1 2`
    },
    'E7sus2': {
        frets: [0, 0, 1, 4, 2, 0],
        fingers: [0, 0, 1, 4, 2, 0],
        diagram: `
  E7sus2
e |---0---
B |---0---
G |---1---
D |---4---
A |---2---
E |---0---
    1 4 2`
    },
    'F7sus2': {
        frets: [1, 1, 3, 1, 1, 1],
        fingers: [1, 1, 3, 1, 1, 1],
        diagram: `
  F7sus2 (Barre)
e |---1---
B |---1---
G |---3---
D |---1---
A |---1---
E |---1---
  1 1 3 1 1 1`
    },
    'G7sus2': {
        frets: [3, 1, 3, 0, 3, 3],
        fingers: [2, 1, 4, 0, 3, 2],
        diagram: `
  G7sus2
e |---3---
B |---1---
G |---3---
D |---0---
A |---3---
E |---3---
    2 1 4   3 2`
    },
    'A7sus2': {
        frets: [0, 3, 0, 2, 0, -1],
        fingers: [0, 2, 0, 1, 0, 0],
        diagram: `
  A7sus2
e |---0---
B |---3---
G |---0---
D |---2---
A |---0---
E |---X---
    2   1`
    },
    'B7sus2': {
        frets: [2, 5, 2, 4, 2, -1],
        fingers: [1, 4, 1, 3, 1, 0],
        diagram: `
  B7sus2 (Barre)
e |---2---
B |---5---
G |---2---
D |---4---
A |---2---
E |---X---
  1 4 1 3 1`
    },
    
    // Diminished Chords
    'Cdim': {
        frets: [2, 4, 2, 4, 3, -1],
        fingers: [1, 3, 1, 4, 2, 0],
        diagram: `
  Cdim
e |---2---
B |---4---
G |---2---
D |---4---
A |---3---
E |---X---
  1 3 1 4 2`
    },
    'Ddim': {
        frets: [1, 0, 1, 0, -1, -1],
        fingers: [1, 0, 2, 0, 0, 0],
        diagram: `
  Ddim
e |---1---
B |---0---
G |---1---
D |---0---
A |---X---
E |---X---
    1   2`
    },
    'Edim': {
        frets: [0, 2, 0, 2, 1, 0],
        fingers: [0, 2, 0, 3, 1, 0],
        diagram: `
  Edim
e |---0---
B |---2---
G |---0---
D |---2---
A |---1---
E |---0---
    2   3 1`
    },
    'Fdim': {
        frets: [1, 3, 1, 3, 2, 1],
        fingers: [1, 3, 1, 4, 2, 1],
        diagram: `
  Fdim
e |---1---
B |---3---
G |---1---
D |---3---
A |---2---
E |---1---
  1 3 1 4 2 1`
    },
    'Gdim': {
        frets: [3, 5, 3, 5, 4, 3],
        fingers: [1, 3, 1, 4, 2, 1],
        diagram: `
  Gdim
e |---3---
B |---5---
G |---3---
D |---5---
A |---4---
E |---3---
  1 3 1 4 2 1`
    },
    'Adim': {
        frets: [2, 1, 2, 1, 0, -1],
        fingers: [3, 1, 4, 2, 0, 0],
        diagram: `
  Adim
e |---2---
B |---1---
G |---2---
D |---1---
A |---0---
E |---X---
    3 1 4 2`
    },
    'Bdim': {
        frets: [4, 3, 4, 3, 2, -1],
        fingers: [3, 1, 4, 2, 1, 0],
        diagram: `
  Bdim
e |---4---
B |---3---
G |---4---
D |---3---
A |---2---
E |---X---
    3 1 4 2 1`
    },
    
    // Augmented Chords
    'Caug': {
        frets: [0, 1, 1, 2, 3, -1],
        fingers: [0, 1, 2, 3, 4, 0],
        diagram: `
  Caug
e |---0---
B |---1---
G |---1---
D |---2---
A |---3---
E |---X---
    1 2 3 4`
    },
    'Daug': {
        frets: [2, 3, 3, 0, -1, -1],
        fingers: [1, 2, 3, 0, 0, 0],
        diagram: `
  Daug
e |---2---
B |---3---
G |---3---
D |---0---
A |---X---
E |---X---
    1 2 3`
    },
    'Eaug': {
        frets: [0, 1, 1, 2, 3, 0],
        fingers: [0, 1, 2, 3, 4, 0],
        diagram: `
  Eaug
e |---0---
B |---1---
G |---1---
D |---2---
A |---3---
E |---0---
    1 2 3 4`
    },
    'Faug': {
        frets: [1, 2, 2, 3, 4, 1],
        fingers: [1, 2, 2, 3, 4, 1],
        diagram: `
  Faug
e |---1---
B |---2---
G |---2---
D |---3---
A |---4---
E |---1---
  1 2 2 3 4 1`
    },
    'Gaug': {
        frets: [3, 4, 4, 5, 6, 3],
        fingers: [1, 2, 2, 3, 4, 1],
        diagram: `
  Gaug
e |---3---
B |---4---
G |---4---
D |---5---
A |---6---
E |---3---
  1 2 2 3 4 1`
    },
    'Aaug': {
        frets: [1, 2, 2, 3, 0, -1],
        fingers: [1, 2, 3, 4, 0, 0],
        diagram: `
  Aaug
e |---1---
B |---2---
G |---2---
D |---3---
A |---0---
E |---X---
    1 2 3 4`
    },
    'Baug': {
        frets: [3, 4, 4, 5, 2, -1],
        fingers: [2, 3, 4, 5, 1, 0],
        diagram: `
  Baug
e |---3---
B |---4---
G |---4---
D |---5---
A |---2---
E |---X---
  2 3 4 5 1`
    },
    
    // 6th Chords
    'C6': {
        frets: [0, 1, 2, 2, 3, -1],
        fingers: [0, 1, 2, 3, 4, 0],
        diagram: `
  C6
e |---0---
B |---1---
G |---2---
D |---2---
A |---3---
E |---X---
    1 2 3 4`
    },
    'D6': {
        frets: [2, 0, 2, 0, -1, -1],
        fingers: [2, 0, 3, 0, 0, 0],
        diagram: `
  D6
e |---2---
B |---0---
G |---2---
D |---0---
A |---X---
E |---X---
    2   3`
    },
    'E6': {
        frets: [0, 2, 1, 2, 2, 0],
        fingers: [0, 3, 1, 2, 4, 0],
        diagram: `
  E6
e |---0---
B |---2---
G |---1---
D |---2---
A |---2---
E |---0---
    3 1 2 4`
    },
    'F6': {
        frets: [1, 3, 2, 3, 3, 1],
        fingers: [1, 3, 1, 2, 4, 1],
        diagram: `
  F6
e |---1---
B |---3---
G |---2---
D |---3---
A |---3---
E |---1---
  1 3 1 2 4 1`
    },
    'G6': {
        frets: [3, 5, 4, 5, 5, 3],
        fingers: [1, 3, 1, 2, 4, 1],
        diagram: `
  G6
e |---3---
B |---5---
G |---4---
D |---5---
A |---5---
E |---3---
  1 3 1 2 4 1`
    },
    'A6': {
        frets: [2, 2, 2, 2, 0, -1],
        fingers: [1, 2, 3, 4, 0, 0],
        diagram: `
  A6
e |---2---
B |---2---
G |---2---
D |---2---
A |---0---
E |---X---
    1 2 3 4`
    },
    'B6': {
        frets: [4, 4, 4, 4, 2, -1],
        fingers: [2, 3, 4, 4, 1, 0],
        diagram: `
  B6
e |---4---
B |---4---
G |---4---
D |---4---
A |---2---
E |---X---
  2 3 4 4 1`
    },
    
    // Minor 6th Chords
    'Cm6': {
        frets: [3, 1, 2, 1, 3, -1],
        fingers: [4, 1, 3, 2, 4, 0],
        diagram: `
  Cm6
e |---3---
B |---1---
G |---2---
D |---1---
A |---3---
E |---X---
    4 1 3 2 4`
    },
    'Dm6': {
        frets: [1, 0, 2, 0, -1, -1],
        fingers: [1, 0, 3, 0, 0, 0],
        diagram: `
  Dm6
e |---1---
B |---0---
G |---2---
D |---0---
A |---X---
E |---X---
    1   3`
    },
    'Em6': {
        frets: [0, 2, 0, 2, 2, 0],
        fingers: [0, 2, 0, 3, 4, 0],
        diagram: `
  Em6
e |---0---
B |---2---
G |---0---
D |---2---
A |---2---
E |---0---
    2   3 4`
    },
    'Fm6': {
        frets: [1, 3, 1, 3, 3, 1],
        fingers: [1, 3, 1, 2, 4, 1],
        diagram: `
  Fm6
e |---1---
B |---3---
G |---1---
D |---3---
A |---3---
E |---1---
  1 3 1 2 4 1`
    },
    'Gm6': {
        frets: [3, 5, 3, 5, 5, 3],
        fingers: [1, 3, 1, 2, 4, 1],
        diagram: `
  Gm6
e |---3---
B |---5---
G |---3---
D |---5---
A |---5---
E |---3---
  1 3 1 2 4 1`
    },
    'Am6': {
        frets: [2, 1, 2, 2, 0, -1],
        fingers: [2, 1, 3, 4, 0, 0],
        diagram: `
  Am6
e |---2---
B |---1---
G |---2---
D |---2---
A |---0---
E |---X---
    2 1 3 4`
    },
    'Bm6': {
        frets: [4, 3, 4, 4, 2, -1],
        fingers: [3, 1, 4, 4, 2, 0],
        diagram: `
  Bm6
e |---4---
B |---3---
G |---4---
D |---4---
A |---2---
E |---X---
    3 1 4 4 2`
    },
    
    // 9th Chords
    'C9': {
        frets: [3, 3, 3, 2, 3, -1],
        fingers: [2, 3, 4, 1, 4, 0],
        diagram: `
  C9
e |---3---
B |---3---
G |---3---
D |---2---
A |---3---
E |---X---
  2 3 4 1 4`
    },
    'D9': {
        frets: [0, 1, 2, 0, -1, -1],
        fingers: [0, 1, 2, 0, 0, 0],
        diagram: `
  D9
e |---0---
B |---1---
G |---2---
D |---0---
A |---X---
E |---X---
    1 2`
    },
    'E9': {
        frets: [2, 3, 1, 0, 2, 0],
        fingers: [2, 4, 1, 0, 3, 0],
        diagram: `
  E9
e |---2---
B |---3---
G |---1---
D |---0---
A |---2---
E |---0---
    2 4 1   3`
    },
    'F9': {
        frets: [3, 4, 2, 1, 3, 1],
        fingers: [3, 4, 2, 1, 3, 1],
        diagram: `
  F9
e |---3---
B |---4---
G |---2---
D |---1---
A |---3---
E |---1---
  3 4 2 1 3 1`
    },
    'G9': {
        frets: [5, 6, 4, 3, 5, 3],
        fingers: [3, 4, 2, 1, 3, 1],
        diagram: `
  G9
e |---5---
B |---6---
G |---4---
D |---3---
A |---5---
E |---3---
  3 4 2 1 3 1`
    },
    'A9': {
        frets: [3, 2, 4, 2, 0, -1],
        fingers: [3, 1, 4, 2, 0, 0],
        diagram: `
  A9
e |---3---
B |---2---
G |---4---
D |---2---
A |---0---
E |---X---
    3 1 4 2`
    },
    'B9': {
        frets: [5, 4, 6, 4, 2, -1],
        fingers: [3, 1, 4, 2, 1, 0],
        diagram: `
  B9
e |---5---
B |---4---
G |---6---
D |---4---
A |---2---
E |---X---
  3 1 4 2 1`
    },
    
    // Minor 9th Chords
    'Cm9': {
        frets: [3, 3, 3, 1, 3, -1],
        fingers: [2, 3, 4, 1, 4, 0],
        diagram: `
  Cm9
e |---3---
B |---3---
G |---3---
D |---1---
A |---3---
E |---X---
  2 3 4 1 4`
    },
    'Dm9': {
        frets: [0, 1, 2, 0, -1, -1],
        fingers: [0, 1, 2, 0, 0, 0],
        diagram: `
  Dm9
e |---0---
B |---1---
G |---2---
D |---0---
A |---X---
E |---X---
    1 2`
    },
    'Em9': {
        frets: [2, 3, 0, 0, 2, 0],
        fingers: [2, 4, 0, 0, 3, 0],
        diagram: `
  Em9
e |---2---
B |---3---
G |---0---
D |---0---
A |---2---
E |---0---
    2 4     3`
    },
    'Fm9': {
        frets: [3, 4, 1, 1, 3, 1],
        fingers: [3, 4, 1, 1, 3, 1],
        diagram: `
  Fm9
e |---3---
B |---4---
G |---1---
D |---1---
A |---3---
E |---1---
  3 4 1 1 3 1`
    },
    'Gm9': {
        frets: [5, 6, 3, 3, 5, 3],
        fingers: [3, 4, 1, 1, 3, 1],
        diagram: `
  Gm9
e |---5---
B |---6---
G |---3---
D |---3---
A |---5---
E |---3---
  3 4 1 1 3 1`
    },
    'Am9': {
        frets: [3, 1, 4, 2, 0, -1],
        fingers: [3, 1, 4, 2, 0, 0],
        diagram: `
  Am9
e |---3---
B |---1---
G |---4---
D |---2---
A |---0---
E |---X---
    3 1 4 2`
    },
    'Bm9': {
        frets: [5, 3, 6, 4, 2, -1],
        fingers: [4, 1, 5, 2, 1, 0],
        diagram: `
  Bm9
e |---5---
B |---3---
G |---6---
D |---4---
A |---2---
E |---X---
  4 1 5 2 1`
    },
    
    // 11th Chords
    'C11': {
        frets: [3, 4, 3, 3, 3, -1],
        fingers: [1, 4, 2, 3, 1, 0],
        diagram: `
  C11
e |---3---
B |---4---
G |---3---
D |---3---
A |---3---
E |---X---
  1 4 2 3 1`
    },
    'D11': {
        frets: [3, 1, 0, 0, -1, -1],
        fingers: [3, 1, 0, 0, 0, 0],
        diagram: `
  D11
e |---3---
B |---1---
G |---0---
D |---0---
A |---X---
E |---X---
    3 1`
    },
    'E11': {
        frets: [0, 0, 0, 0, 2, 0],
        fingers: [0, 0, 0, 0, 2, 0],
        diagram: `
  E11
e |---0---
B |---0---
G |---0---
D |---0---
A |---2---
E |---0---
    2`
    },
    'F11': {
        frets: [1, 1, 1, 1, 3, 1],
        fingers: [1, 1, 1, 1, 3, 1],
        diagram: `
  F11
e |---1---
B |---1---
G |---1---
D |---1---
A |---3---
E |---1---
  1 1 1 1 3 1`
    },
    'G11': {
        frets: [3, 3, 3, 3, 5, 3],
        fingers: [1, 1, 1, 1, 3, 1],
        diagram: `
  G11
e |---3---
B |---3---
G |---3---
D |---3---
A |---5---
E |---3---
  1 1 1 1 3 1`
    },
    'A11': {
        frets: [0, 0, 0, 0, 2, -1],
        fingers: [0, 0, 0, 0, 2, 0],
        diagram: `
  A11
e |---0---
B |---0---
G |---0---
D |---0---
A |---2---
E |---X---
    2`
    },
    'B11': {
        frets: [2, 2, 2, 2, 4, -1],
        fingers: [1, 1, 1, 1, 3, 0],
        diagram: `
  B11
e |---2---
B |---2---
G |---2---
D |---2---
A |---4---
E |---X---
  1 1 1 1 3`
    },
    
    // 13th Chords
    'C13': {
        frets: [3, 5, 3, 2, 3, -1],
        fingers: [1, 4, 2, 1, 3, 0],
        diagram: `
  C13
e |---3---
B |---5---
G |---3---
D |---2---
A |---3---
E |---X---
  1 4 2 1 3`
    },
    'D13': {
        frets: [2, 1, 2, 0, -1, -1],
        fingers: [2, 1, 3, 0, 0, 0],
        diagram: `
  D13
e |---2---
B |---1---
G |---2---
D |---0---
A |---X---
E |---X---
    2 1 3`
    },
    'E13': {
        frets: [4, 3, 1, 0, 2, 0],
        fingers: [4, 3, 1, 0, 2, 0],
        diagram: `
  E13
e |---4---
B |---3---
G |---1---
D |---0---
A |---2---
E |---0---
    4 3 1   2`
    },
    'F13': {
        frets: [5, 4, 2, 1, 3, 1],
        fingers: [5, 4, 2, 1, 3, 1],
        diagram: `
  F13
e |---5---
B |---4---
G |---2---
D |---1---
A |---3---
E |---1---
  5 4 2 1 3 1`
    },
    'G13': {
        frets: [7, 6, 4, 3, 5, 3],
        fingers: [5, 4, 2, 1, 3, 1],
        diagram: `
  G13
e |---7---
B |---6---
G |---4---
D |---3---
A |---5---
E |---3---
  5 4 2 1 3 1`
    },
    'A13': {
        frets: [5, 2, 4, 2, 0, -1],
        fingers: [4, 1, 3, 2, 0, 0],
        diagram: `
  A13
e |---5---
B |---2---
G |---4---
D |---2---
A |---0---
E |---X---
    4 1 3 2`
    },
    'B13': {
        frets: [7, 4, 6, 4, 2, -1],
        fingers: [5, 1, 4, 2, 1, 0],
        diagram: `
  B13
e |---7---
B |---4---
G |---6---
D |---4---
A |---2---
E |---X---
  5 1 4 2 1`
    },
    
    // Major Slash Chords
    'C/E': {
        frets: [0, 1, 0, 2, 3, 0],
        fingers: [0, 1, 0, 2, 3, 0],
        diagram: `
  C/E
e |---0---
B |---1---
G |---0---
D |---2---
A |---3---
E |---0---
    1   2 3`
    },
    'C/G': {
        frets: [0, 1, 0, 2, 3, 3],
        fingers: [0, 1, 0, 2, 3, 4],
        diagram: `
  C/G
e |---0---
B |---1---
G |---0---
D |---2---
A |---3---
E |---3---
    1   2 3 4`
    },
    'D/F#': {
        frets: [2, 3, 2, 0, -1, 2],
        fingers: [2, 4, 3, 0, 0, 1],
        diagram: `
  D/F#
e |---2---
B |---3---
G |---2---
D |---0---
A |---X---
E |---2---
  2 4 3   1`
    },
    'D/A': {
        frets: [2, 3, 2, 0, 0, -1],
        fingers: [2, 3, 1, 0, 0, 0],
        diagram: `
  D/A
e |---2---
B |---3---
G |---2---
D |---0---
A |---0---
E |---X---
    2 3 1`
    },
    'E/G#': {
        frets: [0, 0, 1, 2, 2, 4],
        fingers: [0, 0, 1, 2, 3, 4],
        diagram: `
  E/G#
e |---0---
B |---0---
G |---1---
D |---2---
A |---2---
E |---4---
    1 2 3 4`
    },
    'E/B': {
        frets: [0, 0, 1, 2, 2, -1],
        fingers: [0, 0, 1, 2, 3, 0],
        diagram: `
  E/B
e |---0---
B |---0---
G |---1---
D |---2---
A |---2---
E |---X---
    1 2 3`
    },
    'F/A': {
        frets: [1, 1, 2, 3, 0, -1],
        fingers: [1, 2, 3, 4, 0, 0],
        diagram: `
  F/A
e |---1---
B |---1---
G |---2---
D |---3---
A |---0---
E |---X---
    1 2 3 4`
    },
    'F/C': {
        frets: [1, 1, 2, 3, 3, -1],
        fingers: [1, 1, 2, 3, 4, 0],
        diagram: `
  F/C
e |---1---
B |---1---
G |---2---
D |---3---
A |---3---
E |---X---
  1 1 2 3 4`
    },
    'G/B': {
        frets: [3, 0, 0, 0, 2, -1],
        fingers: [3, 0, 0, 0, 1, 0],
        diagram: `
  G/B
e |---3---
B |---0---
G |---0---
D |---0---
A |---2---
E |---X---
    3     1`
    },
    'G/D': {
        frets: [3, 0, 0, 0, -1, -1],
        fingers: [1, 0, 0, 0, 0, 0],
        diagram: `
  G/D
e |---3---
B |---0---
G |---0---
D |---0---
A |---X---
E |---X---
    1`
    },
    'A/C#': {
        frets: [0, 2, 2, 2, 4, -1],
        fingers: [0, 1, 2, 3, 4, 0],
        diagram: `
  A/C#
e |---0---
B |---2---
G |---2---
D |---2---
A |---4---
E |---X---
    1 2 3 4`
    },
    'A/E': {
        frets: [0, 2, 2, 2, 0, 0],
        fingers: [0, 1, 2, 3, 0, 0],
        diagram: `
  A/E
e |---0---
B |---2---
G |---2---
D |---2---
A |---0---
E |---0---
    1 2 3`
    },
    'B/D#': {
        frets: [2, 4, 4, 4, 6, -1],
        fingers: [1, 2, 3, 4, 4, 0],
        diagram: `
  B/D#
e |---2---
B |---4---
G |---4---
D |---4---
A |---6---
E |---X---
  1 2 3 4 4`
    },
    'B/F#': {
        frets: [2, 4, 4, 4, 2, 2],
        fingers: [1, 3, 4, 4, 1, 1],
        diagram: `
  B/F#
e |---2---
B |---4---
G |---4---
D |---4---
A |---2---
E |---2---
  1 3 4 4 1 1`
    },
    
    // Minor Slash Chords
    'Cm/Eb': {
        frets: [3, 4, 5, 5, 6, -1],
        fingers: [1, 2, 3, 4, 4, 0],
        diagram: `
  Cm/Eb
e |---3---
B |---4---
G |---5---
D |---5---
A |---6---
E |---X---
  1 2 3 4 4`
    },
    'Cm/G': {
        frets: [3, 4, 5, 5, 3, 3],
        fingers: [1, 2, 3, 4, 1, 1],
        diagram: `
  Cm/G
e |---3---
B |---4---
G |---5---
D |---5---
A |---3---
E |---3---
  1 2 3 4 1 1`
    },
    'Dm/F': {
        frets: [1, 3, 2, 0, -1, 1],
        fingers: [1, 4, 2, 0, 0, 3],
        diagram: `
  Dm/F
e |---1---
B |---3---
G |---2---
D |---0---
A |---X---
E |---1---
  1 4 2   3`
    },
    'Dm/A': {
        frets: [1, 3, 2, 0, 0, -1],
        fingers: [1, 4, 2, 0, 0, 0],
        diagram: `
  Dm/A
e |---1---
B |---3---
G |---2---
D |---0---
A |---0---
E |---X---
    1 4 2`
    },
    'Em/G': {
        frets: [0, 0, 0, 2, 2, 3],
        fingers: [0, 0, 0, 1, 2, 3],
        diagram: `
  Em/G
e |---0---
B |---0---
G |---0---
D |---2---
A |---2---
E |---3---
    1 2 3`
    },
    'Em/B': {
        frets: [0, 0, 0, 2, 2, -1],
        fingers: [0, 0, 0, 1, 2, 0],
        diagram: `
  Em/B
e |---0---
B |---0---
G |---0---
D |---2---
A |---2---
E |---X---
    1 2`
    },
    'Fm/Ab': {
        frets: [1, 1, 1, 3, 4, 4],
        fingers: [1, 1, 1, 2, 3, 4],
        diagram: `
  Fm/Ab
e |---1---
B |---1---
G |---1---
D |---3---
A |---4---
E |---4---
  1 1 1 2 3 4`
    },
    'Fm/C': {
        frets: [1, 1, 1, 3, 4, -1],
        fingers: [1, 1, 1, 2, 3, 0],
        diagram: `
  Fm/C
e |---1---
B |---1---
G |---1---
D |---3---
A |---4---
E |---X---
  1 1 1 2 3`
    },
    'Gm/Bb': {
        frets: [3, 3, 3, 5, 1, -1],
        fingers: [2, 3, 4, 4, 1, 0],
        diagram: `
  Gm/Bb
e |---3---
B |---3---
G |---3---
D |---5---
A |---1---
E |---X---
  2 3 4 4 1`
    },
    'Gm/D': {
        frets: [3, 3, 3, 0, -1, -1],
        fingers: [1, 2, 3, 0, 0, 0],
        diagram: `
  Gm/D
e |---3---
B |---3---
G |---3---
D |---0---
A |---X---
E |---X---
    1 2 3`
    },
    'Am/C': {
        frets: [0, 1, 2, 2, 3, -1],
        fingers: [0, 1, 2, 3, 4, 0],
        diagram: `
  Am/C
e |---0---
B |---1---
G |---2---
D |---2---
A |---3---
E |---X---
    1 2 3 4`
    },
    'Am/E': {
        frets: [0, 1, 2, 2, 0, 0],
        fingers: [0, 1, 2, 3, 0, 0],
        diagram: `
  Am/E
e |---0---
B |---1---
G |---2---
D |---2---
A |---0---
E |---0---
    1 2 3`
    },
    'Bm/D': {
        frets: [2, 3, 4, 0, -1, -1],
        fingers: [1, 2, 4, 0, 0, 0],
        diagram: `
  Bm/D
e |---2---
B |---3---
G |---4---
D |---0---
A |---X---
E |---X---
    1 2 4`
    },
    'Bm/F#': {
        frets: [2, 3, 4, 4, 2, 2],
        fingers: [1, 2, 3, 4, 1, 1],
        diagram: `
  Bm/F#
e |---2---
B |---3---
G |---4---
D |---4---
A |---2---
E |---2---
  1 2 3 4 1 1`
    },
    
    // Power Chords
    'C5': {
        frets: [-1, -1, 5, 5, 3, -1],
        fingers: [0, 0, 3, 4, 1, 0],
        diagram: `
  C5
e |---X---
B |---X---
G |---5---
D |---5---
A |---3---
E |---X---
    3 4 1`
    },
    'D5': {
        frets: [-1, 3, 2, 0, -1, -1],
        fingers: [0, 2, 1, 0, 0, 0],
        diagram: `
  D5
e |---X---
B |---3---
G |---2---
D |---0---
A |---X---
E |---X---
    2 1`
    },
    'E5': {
        frets: [0, -1, -1, 2, 2, 0],
        fingers: [0, 0, 0, 1, 2, 0],
        diagram: `
  E5
e |---0---
B |---X---
G |---X---
D |---2---
A |---2---
E |---0---
    1 2`
    },
    'F5': {
        frets: [1, -1, -1, 3, 3, 1],
        fingers: [1, 0, 0, 2, 3, 1],
        diagram: `
  F5
e |---1---
B |---X---
G |---X---
D |---3---
A |---3---
E |---1---
  1     2 3 1`
    },
    'G5': {
        frets: [3, -1, -1, 5, 5, 3],
        fingers: [1, 0, 0, 2, 3, 1],
        diagram: `
  G5
e |---3---
B |---X---
G |---X---
D |---5---
A |---5---
E |---3---
  1     2 3 1`
    },
    'A5': {
        frets: [0, -1, 2, 2, 0, -1],
        fingers: [0, 0, 1, 2, 0, 0],
        diagram: `
  A5
e |---0---
B |---X---
G |---2---
D |---2---
A |---0---
E |---X---
    1 2`
    },
    'B5': {
        frets: [2, -1, 4, 4, 2, -1],
        fingers: [1, 0, 2, 3, 1, 0],
        diagram: `
  B5
e |---2---
B |---X---
G |---4---
D |---4---
A |---2---
E |---X---
  1   2 3 1`
    },
    
    // Major 9th Chords
    'Cmaj9': {
        frets: [0, 0, 0, 0, 3, -1],
        fingers: [0, 0, 0, 0, 4, 0],
        diagram: `
  Cmaj9
e |---0---
B |---0---
G |---0---
D |---0---
A |---3---
E |---X---
    4`
    },
    'Dmaj9': {
        frets: [0, 2, 2, 0, -1, -1],
        fingers: [0, 1, 2, 0, 0, 0],
        diagram: `
  Dmaj9
e |---0---
B |---2---
G |---2---
D |---0---
A |---X---
E |---X---
    1 2`
    },
    'Emaj9': {
        frets: [2, 0, 1, 1, 2, 0],
        fingers: [2, 0, 1, 1, 3, 0],
        diagram: `
  Emaj9
e |---2---
B |---0---
G |---1---
D |---1---
A |---2---
E |---0---
    2   1 1 3`
    },
    'Fmaj9': {
        frets: [3, 1, 2, 2, 3, 1],
        fingers: [3, 1, 2, 2, 4, 1],
        diagram: `
  Fmaj9
e |---3---
B |---1---
G |---2---
D |---2---
A |---3---
E |---1---
  3 1 2 2 4 1`
    },
    'Gmaj9': {
        frets: [5, 3, 4, 4, 5, 3],
        fingers: [3, 1, 2, 2, 4, 1],
        diagram: `
  Gmaj9
e |---5---
B |---3---
G |---4---
D |---4---
A |---5---
E |---3---
  3 1 2 2 4 1`
    },
    'Amaj9': {
        frets: [2, 0, 1, 2, 0, -1],
        fingers: [2, 0, 1, 3, 0, 0],
        diagram: `
  Amaj9
e |---2---
B |---0---
G |---1---
D |---2---
A |---0---
E |---X---
    2   1 3`
    },
    'Bmaj9': {
        frets: [4, 2, 3, 4, 2, -1],
        fingers: [3, 1, 2, 4, 1, 0],
        diagram: `
  Bmaj9
e |---4---
B |---2---
G |---3---
D |---4---
A |---2---
E |---X---
  3 1 2 4 1`
    },
    
    // Major 11th Chords  
    'Cmaj11': {
        frets: [0, 1, 0, 0, 3, -1],
        fingers: [0, 1, 0, 0, 3, 0],
        diagram: `
  Cmaj11
e |---0---
B |---1---
G |---0---
D |---0---
A |---3---
E |---X---
    1     3`
    },
    'Dmaj11': {
        frets: [0, 2, 0, 0, -1, -1],
        fingers: [0, 2, 0, 0, 0, 0],
        diagram: `
  Dmaj11
e |---0---
B |---2---
G |---0---
D |---0---
A |---X---
E |---X---
    2`
    },
    'Emaj11': {
        frets: [2, 0, 1, 1, 0, 0],
        fingers: [3, 0, 1, 2, 0, 0],
        diagram: `
  Emaj11
e |---2---
B |---0---
G |---1---
D |---1---
A |---0---
E |---0---
    3   1 2`
    },
    'Fmaj11': {
        frets: [3, 1, 2, 2, 1, 1],
        fingers: [4, 1, 2, 3, 1, 1],
        diagram: `
  Fmaj11
e |---3---
B |---1---
G |---2---
D |---2---
A |---1---
E |---1---
  4 1 2 3 1 1`
    },
    'Gmaj11': {
        frets: [5, 3, 4, 4, 3, 3],
        fingers: [4, 1, 2, 3, 1, 1],
        diagram: `
  Gmaj11
e |---5---
B |---3---
G |---4---
D |---4---
A |---3---
E |---3---
  4 1 2 3 1 1`
    },
    'Amaj11': {
        frets: [2, 0, 1, 0, 0, -1],
        fingers: [2, 0, 1, 0, 0, 0],
        diagram: `
  Amaj11
e |---2---
B |---0---
G |---1---
D |---0---
A |---0---
E |---X---
    2   1`
    },
    'Bmaj11': {
        frets: [4, 2, 3, 2, 2, -1],
        fingers: [3, 1, 2, 1, 1, 0],
        diagram: `
  Bmaj11
e |---4---
B |---2---
G |---3---
D |---2---
A |---2---
E |---X---
  3 1 2 1 1`
    },
    
    // Major 13th Chords
    'Cmaj13': {
        frets: [0, 2, 0, 0, 3, -1],
        fingers: [0, 2, 0, 0, 3, 0],
        diagram: `
  Cmaj13
e |---0---
B |---2---
G |---0---
D |---0---
A |---3---
E |---X---
    2     3`
    },
    'Dmaj13': {
        frets: [2, 2, 0, 0, -1, -1],
        fingers: [1, 2, 0, 0, 0, 0],
        diagram: `
  Dmaj13
e |---2---
B |---2---
G |---0---
D |---0---
A |---X---
E |---X---
    1 2`
    },
    'Emaj13': {
        frets: [2, 2, 1, 1, 0, 0],
        fingers: [3, 4, 1, 2, 0, 0],
        diagram: `
  Emaj13
e |---2---
B |---2---
G |---1---
D |---1---
A |---0---
E |---0---
    3 4 1 2`
    },
    'Fmaj13': {
        frets: [3, 3, 2, 2, 1, 1],
        fingers: [3, 4, 2, 3, 1, 1],
        diagram: `
  Fmaj13
e |---3---
B |---3---
G |---2---
D |---2---
A |---1---
E |---1---
  3 4 2 3 1 1`
    },
    'Gmaj13': {
        frets: [5, 5, 4, 4, 3, 3],
        fingers: [3, 4, 2, 3, 1, 1],
        diagram: `
  Gmaj13
e |---5---
B |---5---
G |---4---
D |---4---
A |---3---
E |---3---
  3 4 2 3 1 1`
    },
    'Amaj13': {
        frets: [2, 2, 1, 0, 0, -1],
        fingers: [2, 3, 1, 0, 0, 0],
        diagram: `
  Amaj13
e |---2---
B |---2---
G |---1---
D |---0---
A |---0---
E |---X---
    2 3 1`
    },
    'Bmaj13': {
        frets: [4, 4, 3, 2, 2, -1],
        fingers: [3, 4, 2, 1, 1, 0],
        diagram: `
  Bmaj13
e |---4---
B |---4---
G |---3---
D |---2---
A |---2---
E |---X---
  3 4 2 1 1`
    },
    
    // Minor 7b5 Chords
    'Cm7b5': {
        frets: [2, 4, 3, 4, 3, -1],
        fingers: [1, 4, 2, 3, 1, 0],
        diagram: `
  Cm7b5
e |---2---
B |---4---
G |---3---
D |---4---
A |---3---
E |---X---
  1 4 2 3 1`
    },
    'Dm7b5': {
        frets: [1, 1, 1, 0, -1, -1],
        fingers: [1, 2, 3, 0, 0, 0],
        diagram: `
  Dm7b5
e |---1---
B |---1---
G |---1---
D |---0---
A |---X---
E |---X---
    1 2 3`
    },
    'Em7b5': {
        frets: [0, 3, 0, 0, 1, 0],
        fingers: [0, 3, 0, 0, 1, 0],
        diagram: `
  Em7b5
e |---0---
B |---3---
G |---0---
D |---0---
A |---1---
E |---0---
    3     1`
    },
    'Fm7b5': {
        frets: [1, 4, 1, 1, 2, 1],
        fingers: [1, 4, 1, 1, 2, 1],
        diagram: `
  Fm7b5
e |---1---
B |---4---
G |---1---
D |---1---
A |---2---
E |---1---
  1 4 1 1 2 1`
    },
    'Gm7b5': {
        frets: [3, 6, 3, 3, 4, 3],
        fingers: [1, 4, 1, 1, 2, 1],
        diagram: `
  Gm7b5
e |---3---
B |---6---
G |---3---
D |---3---
A |---4---
E |---3---
  1 4 1 1 2 1`
    },
    'Am7b5': {
        frets: [0, 1, 0, 1, 0, -1],
        fingers: [0, 1, 0, 2, 0, 0],
        diagram: `
  Am7b5
e |---0---
B |---1---
G |---0---
D |---1---
A |---0---
E |---X---
    1   2`
    },
    'Bm7b5': {
        frets: [2, 3, 2, 3, 2, -1],
        fingers: [1, 3, 1, 2, 1, 0],
        diagram: `
  Bm7b5
e |---2---
B |---3---
G |---2---
D |---3---
A |---2---
E |---X---
  1 3 1 2 1`
    },
    
    // Diminished 7th Chords (using °7 notation)
    'C°7': {
        frets: [2, 4, 2, 4, 3, -1],
        fingers: [1, 4, 1, 3, 2, 0],
        diagram: `
  C°7
e |---2---
B |---4---
G |---2---
D |---4---
A |---3---
E |---X---
  1 4 1 3 2`
    },
    'D°7': {
        frets: [1, 0, 1, 0, -1, -1],
        fingers: [1, 0, 2, 0, 0, 0],
        diagram: `
  D°7
e |---1---
B |---0---
G |---1---
D |---0---
A |---X---
E |---X---
    1   2`
    },
    'E°7': {
        frets: [0, 2, 0, 2, 1, 0],
        fingers: [0, 2, 0, 3, 1, 0],
        diagram: `
  E°7
e |---0---
B |---2---
G |---0---
D |---2---
A |---1---
E |---0---
    2   3 1`
    },
    'F°7': {
        frets: [1, 3, 1, 3, 2, 1],
        fingers: [1, 3, 1, 4, 2, 1],
        diagram: `
  F°7
e |---1---
B |---3---
G |---1---
D |---3---
A |---2---
E |---1---
  1 3 1 4 2 1`
    },
    'G°7': {
        frets: [3, 5, 3, 5, 4, 3],
        fingers: [1, 3, 1, 4, 2, 1],
        diagram: `
  G°7
e |---3---
B |---5---
G |---3---
D |---5---
A |---4---
E |---3---
  1 3 1 4 2 1`
    },
    'A°7': {
        frets: [2, 1, 2, 1, 0, -1],
        fingers: [3, 1, 4, 2, 0, 0],
        diagram: `
  A°7
e |---2---
B |---1---
G |---2---
D |---1---
A |---0---
E |---X---
    3 1 4 2`
    },
    'B°7': {
        frets: [4, 3, 4, 3, 2, -1],
        fingers: [3, 1, 4, 2, 1, 0],
        diagram: `
  B°7
e |---4---
B |---3---
G |---4---
D |---3---
A |---2---
E |---X---
    3 1 4 2 1`
    },
    
    // Augmented 7th Chords (using +7 notation)
    'C+7': {
        frets: [4, 1, 1, 2, 3, -1],
        fingers: [4, 1, 2, 3, 4, 0],
        diagram: `
  C+7
e |---4---
B |---1---
G |---1---
D |---2---
A |---3---
E |---X---
    4 1 2 3 4`
    },
    'D+7': {
        frets: [2, 1, 3, 0, -1, -1],
        fingers: [2, 1, 4, 0, 0, 0],
        diagram: `
  D+7
e |---2---
B |---1---
G |---3---
D |---0---
A |---X---
E |---X---
    2 1 4`
    },
    'E+7': {
        frets: [4, 1, 1, 0, 3, 0],
        fingers: [4, 1, 2, 0, 3, 0],
        diagram: `
  E+7
e |---4---
B |---1---
G |---1---
D |---0---
A |---3---
E |---0---
    4 1 2   3`
    },
    'F+7': {
        frets: [5, 2, 2, 1, 4, 1],
        fingers: [5, 2, 3, 1, 4, 1],
        diagram: `
  F+7
e |---5---
B |---2---
G |---2---
D |---1---
A |---4---
E |---1---
  5 2 3 1 4 1`
    },
    'G+7': {
        frets: [7, 4, 4, 3, 6, 3],
        fingers: [5, 2, 3, 1, 4, 1],
        diagram: `
  G+7
e |---7---
B |---4---
G |---4---
D |---3---
A |---6---
E |---3---
  5 2 3 1 4 1`
    },
    'A+7': {
        frets: [1, 2, 4, 3, 0, -1],
        fingers: [1, 2, 5, 4, 0, 0],
        diagram: `
  A+7
e |---1---
B |---2---
G |---4---
D |---3---
A |---0---
E |---X---
    1 2 5 4`
    },
    'B+7': {
        frets: [3, 4, 6, 5, 2, -1],
        fingers: [1, 2, 5, 4, 1, 0],
        diagram: `
  B+7
e |---3---
B |---4---
G |---6---
D |---5---
A |---2---
E |---X---
  1 2 5 4 1`
    }
};

const CHORD_ALTERNATIVES = {
    // Major chord alternatives
    'C': ['Cmaj7', 'Cadd9', 'C7', 'Csus4', 'Csus2'],
    'D': ['Dmaj7', 'Dadd9', 'D7', 'Dsus4', 'Dsus2'],
    'E': ['Emaj7', 'Eadd9', 'E7', 'Esus4', 'Esus2'],
    'F': ['Fmaj7', 'Fadd9', 'F7', 'Fsus4', 'Fsus2'],
    'G': ['Gmaj7', 'Gadd9', 'G7', 'Gsus4', 'Gsus2'],
    'A': ['Amaj7', 'Aadd9', 'A7', 'Asus4', 'Asus2'],
    'B': ['B7', 'Bmaj7', 'Badd9', 'Bsus4', 'Bsus2'],
    
    // Minor chord alternatives
    'Am': ['Am7', 'Asus2'],
    'Bm': ['Bm7', 'Bsus2'],
    'Cm': ['Cm7', 'Csus2'],
    'Dm': ['Dm7', 'Dsus2'],
    'Em': ['Em7', 'Esus2'],
    'Fm': ['Fm7', 'Fsus2'],
    'Gm': ['Gm7', 'Gsus2'],
    
    // 7th chord alternatives
    'C7': ['Cmaj7', 'C', 'Csus4', 'C7sus4', 'C7sus2'],
    'D7': ['Dmaj7', 'D', 'Dsus4', 'D7sus4', 'D7sus2'],
    'E7': ['Emaj7', 'E', 'Esus4', 'E7sus4', 'E7sus2'],
    'F7': ['Fmaj7', 'F', 'Fsus4', 'F7sus4', 'F7sus2'],
    'G7': ['Gmaj7', 'G', 'Gsus4', 'G7sus4', 'G7sus2'],
    'A7': ['Amaj7', 'A', 'Asus4', 'A7sus4', 'A7sus2'],
    'B7': ['Bmaj7', 'B', 'Bsus4', 'B7sus4', 'B7sus2'],
    
    // Sus chord alternatives
    'Csus4': ['C', 'Csus2'],
    'Dsus4': ['D', 'Dsus2'],
    'Esus4': ['E', 'Esus2'],
    'Fsus4': ['F', 'Fsus2'],
    'Gsus4': ['G', 'Gsus2'],
    'Asus4': ['A', 'Asus2'],
    'Bsus4': ['B', 'Bsus2'],
    
    // Add9 chord alternatives
    'Cadd9': ['C', 'Cmaj7', 'Csus2'],
    'Dadd9': ['D', 'Dmaj7', 'Dsus2'],
    'Eadd9': ['E', 'Emaj7', 'Esus2'],
    'Fadd9': ['F', 'Fmaj7', 'Fsus2'],
    'Gadd9': ['G', 'Gmaj7', 'Gsus2'],
    'Aadd9': ['A', 'Amaj7', 'Asus2'],
    'Badd9': ['B', 'Bmaj7', 'Bsus2'],
    
    // 7sus4 chord alternatives
    'C7sus4': ['C7', 'Csus4', 'C7sus2'],
    'D7sus4': ['D7', 'Dsus4', 'D7sus2'],
    'E7sus4': ['E7', 'Esus4', 'E7sus2'],
    'F7sus4': ['F7', 'Fsus4', 'F7sus2'],
    'G7sus4': ['G7', 'Gsus4', 'G7sus2'],
    'A7sus4': ['A7', 'Asus4', 'A7sus2'],
    'B7sus4': ['B7', 'Bsus4', 'B7sus2'],
    
    // 7sus2 chord alternatives
    'C7sus2': ['C7', 'Csus2', 'C7sus4'],
    'D7sus2': ['D7', 'Dsus2', 'D7sus4'],
    'E7sus2': ['E7', 'Esus2', 'E7sus4'],
    'F7sus2': ['F7', 'Fsus2', 'F7sus4'],
    'G7sus2': ['G7', 'Gsus2', 'G7sus4'],
    'A7sus2': ['A7', 'Asus2', 'A7sus4'],
    'B7sus2': ['B7', 'Bsus2', 'B7sus4'],
    
    // Diminished chord alternatives
    'Cdim': ['C', 'Cm', 'Caug'],
    'Ddim': ['D', 'Dm', 'Daug'],
    'Edim': ['E', 'Em', 'Eaug'],
    'Fdim': ['F', 'Fm', 'Faug'],
    'Gdim': ['G', 'Gm', 'Gaug'],
    'Adim': ['A', 'Am', 'Aaug'],
    'Bdim': ['B', 'Bm', 'Baug'],
    
    // Augmented chord alternatives
    'Caug': ['C', 'C7', 'Cdim'],
    'Daug': ['D', 'D7', 'Ddim'],
    'Eaug': ['E', 'E7', 'Edim'],
    'Faug': ['F', 'F7', 'Fdim'],
    'Gaug': ['G', 'G7', 'Gdim'],
    'Aaug': ['A', 'A7', 'Adim'],
    'Baug': ['B', 'B7', 'Bdim'],
    
    // 6th chord alternatives
    'C6': ['C', 'Cmaj7', 'Am'],
    'D6': ['D', 'Dmaj7', 'Bm'],
    'E6': ['E', 'Emaj7', 'C#m'],
    'F6': ['F', 'Fmaj7', 'Dm'],
    'G6': ['G', 'Gmaj7', 'Em'],
    'A6': ['A', 'Amaj7', 'F#m'],
    'B6': ['B', 'Bmaj7', 'G#m'],
    
    // Minor 6th chord alternatives
    'Cm6': ['Cm', 'Cm7', 'C6'],
    'Dm6': ['Dm', 'Dm7', 'D6'],
    'Em6': ['Em', 'Em7', 'E6'],
    'Fm6': ['Fm', 'Fm7', 'F6'],
    'Gm6': ['Gm', 'Gm7', 'G6'],
    'Am6': ['Am', 'Am7', 'A6'],
    'Bm6': ['Bm', 'Bm7', 'B6'],
    
    // 9th chord alternatives
    'C9': ['C7', 'Cmaj7', 'Cadd9'],
    'D9': ['D7', 'Dmaj7', 'Dadd9'],
    'E9': ['E7', 'Emaj7', 'Eadd9'],
    'F9': ['F7', 'Fmaj7', 'Fadd9'],
    'G9': ['G7', 'Gmaj7', 'Gadd9'],
    'A9': ['A7', 'Amaj7', 'Aadd9'],
    'B9': ['B7', 'Bmaj7', 'Badd9'],
    
    // Minor 9th chord alternatives
    'Cm9': ['Cm7', 'Cm', 'C9'],
    'Dm9': ['Dm7', 'Dm', 'D9'],
    'Em9': ['Em7', 'Em', 'E9'],
    'Fm9': ['Fm7', 'Fm', 'F9'],
    'Gm9': ['Gm7', 'Gm', 'G9'],
    'Am9': ['Am7', 'Am', 'A9'],
    'Bm9': ['Bm7', 'Bm', 'B9'],
    
    // 11th chord alternatives
    'C11': ['C7', 'C9', 'C13'],
    'D11': ['D7', 'D9', 'D13'],
    'E11': ['E7', 'E9', 'E13'],
    'F11': ['F7', 'F9', 'F13'],
    'G11': ['G7', 'G9', 'G13'],
    'A11': ['A7', 'A9', 'A13'],
    'B11': ['B7', 'B9', 'B13'],
    
    // 13th chord alternatives
    'C13': ['C7', 'C9', 'C11'],
    'D13': ['D7', 'D9', 'D11'],
    'E13': ['E7', 'E9', 'E11'],
    'F13': ['F7', 'F9', 'F11'],
    'G13': ['G7', 'G9', 'G11'],
    'A13': ['A7', 'A9', 'A11'],
    'B13': ['B7', 'B9', 'B11'],
    
    // Slash chord alternatives
    'C/E': ['C', 'Am', 'C6'],
    'C/G': ['C', 'Cmaj7', 'Csus4'],
    'D/F#': ['D', 'Bm', 'D6'],
    'D/A': ['D', 'Dmaj7', 'Dsus4'],
    'E/G#': ['E', 'C#m', 'E6'],
    'E/B': ['E', 'Emaj7', 'Esus4'],
    'F/A': ['F', 'Dm', 'F6'],
    'F/C': ['F', 'Fmaj7', 'Fsus4'],
    'G/B': ['G', 'Em', 'G6'],
    'G/D': ['G', 'Gmaj7', 'Gsus4'],
    'A/C#': ['A', 'F#m', 'A6'],
    'A/E': ['A', 'Amaj7', 'Asus4'],
    'B/D#': ['B', 'G#m', 'B6'],
    'B/F#': ['B', 'Bmaj7', 'Bsus4'],
    'Cm/Eb': ['Cm', 'Ab', 'Cm6'],
    'Cm/G': ['Cm', 'Cm7', 'Gm'],
    'Dm/F': ['Dm', 'Bb', 'Dm6'],
    'Dm/A': ['Dm', 'Dm7', 'Am'],
    'Em/G': ['Em', 'C', 'Em6'],
    'Em/B': ['Em', 'Em7', 'Bm'],
    'Fm/Ab': ['Fm', 'Db', 'Fm6'],
    'Fm/C': ['Fm', 'Fm7', 'Cm'],
    'Gm/Bb': ['Gm', 'Eb', 'Gm6'],
    'Gm/D': ['Gm', 'Gm7', 'Dm'],
    'Am/C': ['Am', 'F', 'Am6'],
    'Am/E': ['Am', 'Am7', 'Em'],
    'Bm/D': ['Bm', 'G', 'Bm6'],
    'Bm/F#': ['Bm', 'Bm7', 'F#m'],
    
    // Power chord alternatives
    'C5': ['C', 'Cm', 'C7'],
    'D5': ['D', 'Dm', 'D7'],
    'E5': ['E', 'Em', 'E7'],
    'F5': ['F', 'Fm', 'F7'],
    'G5': ['G', 'Gm', 'G7'],
    'A5': ['A', 'Am', 'A7'],
    'B5': ['B', 'Bm', 'B7'],
    
    // Major extended chord alternatives
    'Cmaj9': ['Cmaj7', 'C9', 'Cadd9'],
    'Dmaj9': ['Dmaj7', 'D9', 'Dadd9'],
    'Emaj9': ['Emaj7', 'E9', 'Eadd9'],
    'Fmaj9': ['Fmaj7', 'F9', 'Fadd9'],
    'Gmaj9': ['Gmaj7', 'G9', 'Gadd9'],
    'Amaj9': ['Amaj7', 'A9', 'Aadd9'],
    'Bmaj9': ['Bmaj7', 'B9', 'Badd9'],
    
    'Cmaj11': ['Cmaj9', 'C11', 'Cmaj7'],
    'Dmaj11': ['Dmaj9', 'D11', 'Dmaj7'],
    'Emaj11': ['Emaj9', 'E11', 'Emaj7'],
    'Fmaj11': ['Fmaj9', 'F11', 'Fmaj7'],
    'Gmaj11': ['Gmaj9', 'G11', 'Gmaj7'],
    'Amaj11': ['Amaj9', 'A11', 'Amaj7'],
    'Bmaj11': ['Bmaj9', 'B11', 'Bmaj7'],
    
    'Cmaj13': ['Cmaj11', 'C13', 'Cmaj9'],
    'Dmaj13': ['Dmaj11', 'D13', 'Dmaj9'],
    'Emaj13': ['Emaj11', 'E13', 'Emaj9'],
    'Fmaj13': ['Fmaj11', 'F13', 'Fmaj9'],
    'Gmaj13': ['Gmaj11', 'G13', 'Gmaj9'],
    'Amaj13': ['Amaj11', 'A13', 'Amaj9'],
    'Bmaj13': ['Bmaj11', 'B13', 'Bmaj9'],
    
    // Complex minor and altered chord alternatives
    'Cm7b5': ['Cm7', 'C°7', 'Cdim'],
    'Dm7b5': ['Dm7', 'D°7', 'Ddim'],
    'Em7b5': ['Em7', 'E°7', 'Edim'],
    'Fm7b5': ['Fm7', 'F°7', 'Fdim'],
    'Gm7b5': ['Gm7', 'G°7', 'Gdim'],
    'Am7b5': ['Am7', 'A°7', 'Adim'],
    'Bm7b5': ['Bm7', 'B°7', 'Bdim'],
    
    'C°7': ['Cdim', 'Cm7b5', 'C+7'],
    'D°7': ['Ddim', 'Dm7b5', 'D+7'],
    'E°7': ['Edim', 'Em7b5', 'E+7'],
    'F°7': ['Fdim', 'Fm7b5', 'F+7'],
    'G°7': ['Gdim', 'Gm7b5', 'G+7'],
    'A°7': ['Adim', 'Am7b5', 'A+7'],
    'B°7': ['Bdim', 'Bm7b5', 'B+7'],
    
    'C+7': ['C7', 'Caug', 'C°7'],
    'D+7': ['D7', 'Daug', 'D°7'],
    'E+7': ['E7', 'Eaug', 'E°7'],
    'F+7': ['F7', 'Faug', 'F°7'],
    'G+7': ['G7', 'Gaug', 'G°7'],
    'A+7': ['A7', 'Aaug', 'A°7'],
    'B+7': ['B7', 'Baug', 'B°7'],
    
    // Sharp/Flat alternatives
    'F#': ['F#7', 'F#m', 'Gb'],
    'Bb': ['Bb7', 'Bbmaj7', 'A#'],
    'C#': ['C#7', 'C#m', 'Db'],
    'Db': ['Db7', 'Dbmaj7', 'C#'],
    'Eb': ['Eb7', 'Ebmaj7', 'D#'],
    'Ab': ['Ab7', 'Abmaj7', 'G#']
};

function parseChordChart(text) {
    const lines = text.split('\n');
    const parsedLines = [];
    
    for (let i = 0; i < lines.length; i++) {
        const line = lines[i];
        
        if (line.trim() === '') {
            parsedLines.push({ type: 'empty', content: '' });
            continue;
        }
        
        const chordPattern = /\b[A-G](?:[#♯]|b|♭)?(?:maj(?:7|9|11|13)?|min(?:7|9|11|13)?|m(?:7|9|11|13)?(?:b5)?|7(?:b5)?|sus[24]?|add[29]|dim7?|aug|°7?|\+7?|6|9|11|13|5)*(?:\/[A-G](?:[#♯]|b|♭)?)?\b/g;
        const matches = [...line.matchAll(chordPattern)];
        
        // Check if this is a chord line (has chords but minimal lyrics)
        const hasChords = matches.length > 0;
        const chordContent = matches.map(m => m[0]).join('');
        const nonChordContent = line.replace(chordPattern, '').trim();
        const isChordLine = hasChords && (nonChordContent.length < chordContent.length || nonChordContent.length < 10);
        
        if (isChordLine && i + 1 < lines.length) {
            // This is a chord line, check if next line is lyrics
            const nextLine = lines[i + 1];
            const nextHasChords = [...nextLine.matchAll(chordPattern)].length > 0;
            
            if (!nextHasChords && nextLine.trim() !== '') {
                // Next line is lyrics, create combined chord-lyric line
                const combinedLine = createChordLyricLine(line, nextLine);
                parsedLines.push({ type: 'chord-lyric', content: combinedLine });
                i++; // Skip the next line since we processed it
                continue;
            }
        }
        
        if (hasChords) {
            let result = '';
            let lastIndex = 0;
            
            for (let match of matches) {
                result += escapeHtml(line.slice(lastIndex, match.index));
                result += `<span class="chord" data-chord="${escapeHtml(match[0])}">${escapeHtml(match[0])}</span>`;
                lastIndex = match.index + match[0].length;
            }
            result += escapeHtml(line.slice(lastIndex));
            
            parsedLines.push({ type: 'chords', content: result });
        } else {
            parsedLines.push({ type: 'lyrics', content: escapeHtml(line) });
        }
    }
    
    return parsedLines;
}

function escapeHtml(text) {
    const div = document.createElement('div');
    div.textContent = text;
    return div.innerHTML;
}

function createChordLyricLine(chordLine, lyricLine) {
    const chordPattern = /\b[A-G](?:[#♯]|b|♭)?(?:maj(?:7|9|11|13)?|min(?:7|9|11|13)?|m(?:7|9|11|13)?(?:b5)?|7(?:b5)?|sus[24]?|add[29]|dim7?|aug|°7?|\+7?|6|9|11|13|5)*(?:\/[A-G](?:[#♯]|b|♭)?)?\b/g;
    const chordMatches = [...chordLine.matchAll(chordPattern)];
    
    if (chordMatches.length === 0) {
        return escapeHtml(lyricLine);
    }
    
    let result = '<div class="chord-lyric-line">';
    let lyricIndex = 0;
    
    for (let i = 0; i < chordMatches.length; i++) {
        const match = chordMatches[i];
        const chordPosition = match.index;
        const chord = match[0];
        
        // Determine how much lyric text corresponds to this chord
        let lyricSegmentLength;
        if (i === chordMatches.length - 1) {
            // Last chord, take rest of lyrics
            lyricSegmentLength = lyricLine.length - lyricIndex;
        } else {
            // Calculate spacing based on chord positions
            const nextChordPosition = chordMatches[i + 1].index;
            const chordSpacing = nextChordPosition - chordPosition;
            lyricSegmentLength = Math.max(chordSpacing, chord.length + 1);
        }
        
        const lyricSegment = lyricLine.slice(lyricIndex, lyricIndex + lyricSegmentLength);
        
        result += `<span class="chord-lyric-pair">`;
        result += `<span class="chord" data-chord="${escapeHtml(chord)}">${escapeHtml(chord)}</span>`;
        result += `<span class="lyric-part">${escapeHtml(lyricSegment)}</span>`;
        result += `</span>`;
        
        lyricIndex += lyricSegmentLength;
    }
    
    // Add any remaining lyrics
    if (lyricIndex < lyricLine.length) {
        result += `<span class="lyric-part">${escapeHtml(lyricLine.slice(lyricIndex))}</span>`;
    }
    
    result += '</div>';
    return result;
}

function renderChordChart(parsedChart) {
    return parsedChart.map(line => {
        if (line.type === 'empty') return '<br>';
        if (line.type === 'chord-lyric') {
            return `<div class="chart-line chord-lyric-combined">${line.content}</div>`;
        }
        return `<div class="chart-line ${line.type}">${line.content}</div>`;
    }).join('');
}

function getChordDiagram(chordName) {
    const baseChord = chordName.replace(/[^A-G#b]/g, '');
    return CHORD_DIAGRAMS[baseChord] || CHORD_DIAGRAMS[chordName];
}

function createVisualChordDiagram(chordData) {
    if (!chordData || !chordData.frets) {
        return `<div class="chord-not-found">Chord diagram not available</div>`;
    }

    const strings = ['e', 'B', 'G', 'D', 'A', 'E'];
    const frets = chordData.frets;
    const fingers = chordData.fingers || [];
    
    let visualHtml = '<div class="chord-diagram-visual">';
    
    // Fretboard
    visualHtml += '<div class="chord-fretboard">';
    
    for (let stringIndex = 0; stringIndex < 6; stringIndex++) {
        visualHtml += '<div class="chord-string">';
        visualHtml += `<div class="string-name">${strings[stringIndex]}</div>`;
        
        for (let fretIndex = 0; fretIndex < 5; fretIndex++) {
            const fretValue = frets[stringIndex];
            const fingerValue = fingers[stringIndex] || 0;
            
            let fretClass = 'fret';
            let fretContent = '';
            
            if (fretValue === 0) {
                // Open string
                if (fretIndex === 0) {
                    fretClass += ' open';
                    fretContent = 'O';
                }
            } else if (fretValue === -1) {
                // Muted string
                if (fretIndex === 0) {
                    fretClass += ' muted';
                    fretContent = 'X';
                }
            } else if (fretValue === fretIndex + 1) {
                // Pressed fret
                fretClass += ' pressed';
                fretContent = fingerValue || fretValue;
            }
            
            visualHtml += `<div class="${fretClass}">${fretContent}</div>`;
        }
        
        visualHtml += '</div>';
    }
    
    visualHtml += '</div>';
    
    // Finger numbers column
    visualHtml += '<div class="finger-numbers">';
    for (let stringIndex = 0; stringIndex < 6; stringIndex++) {
        const fingerValue = fingers[stringIndex] || '';
        const fretValue = frets[stringIndex];
        
        let displayValue = '';
        if (fretValue === 0) {
            displayValue = 'O'; // Open
        } else if (fretValue === -1) {
            displayValue = 'X'; // Muted
        } else if (fingerValue > 0) {
            displayValue = fingerValue; // Finger number
        }
        
        visualHtml += `<div>${displayValue}</div>`;
    }
    visualHtml += '</div>';
    
    visualHtml += '</div>';
    
    return visualHtml;
}

function getChordAlternatives(chordName) {
    const baseChord = chordName.replace(/[^A-G#b]/g, '');
    return CHORD_ALTERNATIVES[baseChord] || CHORD_ALTERNATIVES[chordName] || [];
}